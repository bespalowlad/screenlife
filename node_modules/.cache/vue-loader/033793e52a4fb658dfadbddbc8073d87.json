{"remainingRequest":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/dev/screenlife_frontend/src/blocks/about/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/dev/screenlife_frontend/src/blocks/about/form.vue","mtime":1563371937265},{"path":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import vInput from '../../components/input';\n    import vTextarea from '../../components/textarea';\n    import Widget from '../includes/widget/widget.vue';\n\n    import $api from '@/components/api.js';\n\n    export default {\n        name: 'Form',\n        data: function(){\n            return {\n                modalVisible: false,\n                textareaAutosize: '',\n                formFirstName: \"Name\",\n                formEmail: \"E-mail\",\n                formMessage: \"Your message\",\n                name: '',\n                email: '',\n                message: '',\n                nameValid: true,\n                emailValid: true,\n                messageValid: true,\n                thanksMessage: false,\n            }\n        },\n        components: {\n            'v-input': vInput,\n            'v-textarea': vTextarea,\n            'widget': Widget\n        },\n        methods: {\n            checkMessage(val){\n                this.message = val;\n                if(val.length > 0) {\n                    this.messageValid = true;\n                }\n            },\n            isEmailValid(email) {\n                let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n                return re.test(String(email).toLowerCase());\n            },\n            onSubmit(){\n                let isValid = true,\n                    formData = new FormData;\n\n                if(!this.name) {\n                    this.nameValid = false;\n                    isValid= false;\n                } else {\n                    this.nameValid = true;\n\t\t\t\t    formData.append('your-name', this.name);\n                }\n\n                if(this.isEmailValid(this.email)) {\n                    this.emailValid = true;\n                    formData.append('your-email', this.email);\n                } else {\n                    this.emailValid = false;\n                    isValid = false;\n                }\n\n                if(!this.message) {\n                    this.messageValid = false;\n                    isValid = false;\n                } else {\n                    this.messageValid = true;\n\t\t\t\t    formData.append('your-message', this.message);\n                }\n\n                if (!isValid) return;\n\n                $api.sendFormContact(formData, resp => {\n                    console.log(resp);\n                    if (resp.data.status == 'mail_sent') {\n                        this.onSuccess();\n                    }\n                });\n\t\t\t    \n            },\n            onSuccess(){\n                this.$emit('showThanksBlock', true);\n                setTimeout(() => {\n                    this.name = '';\n                    this.email = '';\n                    this.message = '';\n                }, 500);\n            }\n        }\n    }\n",{"version":3,"sources":["form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form.vue","sourceRoot":"src/blocks/about","sourcesContent":["<template lang=\"pug\">\n    .form(data-aos=\"fade-up\")\n        .wrapper\n            form.form-questions(name=\"form-questions\" @submit.prevent=\"onSubmit()\")\n                h2.form-questions__title {{ $ml.get('forms.request_title') }}\n                .form-questions__fields\n                    .fieldset.fieldset-name(:class=\"{'has-error': !nameValid}\")\n                        v-input(lightColor = true v-model=\"name\", :label=\"$ml.get('forms.name')\" :isValid=\"nameValid\" :type=\"'text'\", :name=\"'name'\" @keyup=\"nameValid = true\" @click=\"nameValid = true\" @mouseover=\"nameValid = true\")\n                    .fieldset.fieldset-message(:class=\"{'has-error': !messageValid}\")\n                        v-textarea(:maxHeight=\"90\" lightColor = true v-model=\"message\" :label=\"$ml.get('forms.message')\" :isValid=\"messageValid\" :name=\"'message'\" @value=\"checkMessage\" @keyup=\"messageValid = true\" @click=\"messageValid = true\" @mouseover=\"messageValid = true\")\n                    .fieldset.fieldset-email(:class=\"{'has-error': !nameValid}\")\n                        v-input(lightColor = true v-model=\"email\", :label=\"$ml.get('forms.email')\" :isValid=\"emailValid\" :type=\"'email'\", :name=\"'email'\" @keyup=\"emailValid = true\" @click=\"emailValid = true\" @mouseover=\"emailValid = true\")\n                button(type=\"submit\" name=\"submit\")\n                    span {{ $ml.get('btns.send') }}\n                widget(static = true)\n\n</template>\n\n<script>\n    import vInput from '../../components/input';\n    import vTextarea from '../../components/textarea';\n    import Widget from '../includes/widget/widget.vue';\n\n    import $api from '@/components/api.js';\n\n    export default {\n        name: 'Form',\n        data: function(){\n            return {\n                modalVisible: false,\n                textareaAutosize: '',\n                formFirstName: \"Name\",\n                formEmail: \"E-mail\",\n                formMessage: \"Your message\",\n                name: '',\n                email: '',\n                message: '',\n                nameValid: true,\n                emailValid: true,\n                messageValid: true,\n                thanksMessage: false,\n            }\n        },\n        components: {\n            'v-input': vInput,\n            'v-textarea': vTextarea,\n            'widget': Widget\n        },\n        methods: {\n            checkMessage(val){\n                this.message = val;\n                if(val.length > 0) {\n                    this.messageValid = true;\n                }\n            },\n            isEmailValid(email) {\n                let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n                return re.test(String(email).toLowerCase());\n            },\n            onSubmit(){\n                let isValid = true,\n                    formData = new FormData;\n\n                if(!this.name) {\n                    this.nameValid = false;\n                    isValid= false;\n                } else {\n                    this.nameValid = true;\n\t\t\t\t    formData.append('your-name', this.name);\n                }\n\n                if(this.isEmailValid(this.email)) {\n                    this.emailValid = true;\n                    formData.append('your-email', this.email);\n                } else {\n                    this.emailValid = false;\n                    isValid = false;\n                }\n\n                if(!this.message) {\n                    this.messageValid = false;\n                    isValid = false;\n                } else {\n                    this.messageValid = true;\n\t\t\t\t    formData.append('your-message', this.message);\n                }\n\n                if (!isValid) return;\n\n                $api.sendFormContact(formData, resp => {\n                    console.log(resp);\n                    if (resp.data.status == 'mail_sent') {\n                        this.onSuccess();\n                    }\n                });\n\t\t\t    \n            },\n            onSuccess(){\n                this.$emit('showThanksBlock', true);\n                setTimeout(() => {\n                    this.name = '';\n                    this.email = '';\n                    this.message = '';\n                }, 500);\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .form {\n        padding-bottom: 97px;\n    }\n\n    .form-questions {\n        background: linear-gradient(139.69deg, #357FDB -29.91%, #64BEFF 97.64%);\n        border-radius: 6px;\n        padding: 48px 0 57px 110px;\n        color: #fff;\n        overflow: hidden;\n        position: relative;\n        z-index: 1;\n\n        &__title {\n            font-family: 'SFProDisplay';\n            font-weight: 700;\n            font-size: 40px;\n            line-height: 46px;\n            max-width: 534px;\n            margin-bottom: 35px;\n            letter-spacing: -1px;\n            position: relative;\n            z-index: 2;\n        }\n\n        &__fields {\n            position: relative;\n        }\n\n        .fieldset {\n            &-name {\n                width: 100%;\n                max-width: 290px;\n                display: inline-block;\n                margin-right: 36px;\n            }\n\n            &-email {\n                width: 100%;\n                max-width: 290px;\n                margin-bottom: 32px;\n            }\n\n            &-message {\n                width: 100%;\n                max-width: 290px;\n                display: inline-block;\n                vertical-align: top;\n                // position: relative;\n                // top: 6px;\n                position: absolute;\n                top: 0;\n                left: calc(290px + 36px);\n            }\n        }\n\n        button[type=\"submit\"] {\n            width: 139px;\n            height: 40px;\n            background: #fff;\n            border-radius: 100px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-family: 'SFProDisplay';\n            font-weight: 600;\n            font-size: 11px;\n            line-height: 19px;\n            text-align: center;\n            letter-spacing: 1px;\n            text-transform: uppercase;\n            color: #37393E;\n            cursor: pointer;\n            position: relative;\n            z-index: 2;\n            transition: opacity .5s ease;\n            margin-top: 34px;\n\n            span {\n                position: relative;\n                z-index: 2;\n            }\n\n            @media screen and (min-width: 1200px) {\n                &:hover {\n                    opacity: .8;\n                }\n            }\n        }\n    }\n\n    .widget {\n        width: 60%;\n        height: 100%;\n        position: absolute;\n        z-index: -1;\n        right: -2%;\n        top: 0;\n        pointer-events: none;\n    }\n\n    @media (max-width: 1200px) {\n        .form-questions {\n            padding: 48px 0 57px 50px;\n        }\n    }\n\n    @media (max-width: 960px) {\n        .form-questions {\n            padding: 45px 33px;\n\n            &__title {\n                text-align: center;\n                margin: 0 auto 35px;\n            }\n\n            &__fields {\n                display: flex;\n                flex-direction: column;\n            }\n\n            .fieldset {\n                margin-bottom: 37px;\n                display: block;\n                width: 100%;\n                max-width: 100%;\n\n                &-name {\n                    margin-bottom: 2px;\n                    order: 1;\n                }\n\n                &-email {\n                    order: 2;\n                    height: 58px !important;\n                    margin-bottom: -4px;\n                }\n\n                &-message {\n                    order: 3;\n                    margin-bottom: 30px;\n                    margin-top: 8px;\n                    position: relative;\n                    top: auto;\n                    left: auto;\n                }\n            }\n\n            button[type=\"submit\"] {\n                order: 4;\n                margin: 0 auto;\n            }\n        }\n\n        .widget {\n            width: 100%;\n        }\n    }\n\n    @media (max-width: 640px) {\n        .form {\n            padding-bottom: 46px;\n        }\n\n        .form-questions {\n            padding: 42px 44px 47px 44px;\n            display: flex;\n            flex-direction: column;\n\n            &__title {\n                font-size: 23px;\n                line-height: 34px;\n                max-width: 297px;\n                margin-left: auto;\n                margin-right: auto;\n                letter-spacing: -0.5px;\n                margin-bottom: 21px;\n            }\n        }\n\n        .widget {\n            width: 100%;\n            right: auto;\n            left: -104px;\n            overflow: auto;\n            padding-left: 500px;\n        }\n    }\n</style>\n\n\n"]}]}