{"remainingRequest":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/thread-loader/dist/cjs.js!/Users/apple/Desktop/dev/screenlife_frontend/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/dev/screenlife_frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/apple/Desktop/dev/screenlife_frontend/src/components/confetti.js","dependencies":[{"path":"/Users/apple/Desktop/dev/screenlife_frontend/src/components/confetti.js","mtime":1559248551335},{"path":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.fill\";\nimport _Date$now from \"/Users/apple/Desktop/dev/screenlife_frontend/node_modules/@babel/runtime-corejs2/core-js/date/now\";\n\nvar retina = window.devicePixelRatio,\n    // Math shorthands\nPI = Math.PI,\n    sqrt = Math.sqrt,\n    round = Math.round,\n    random = Math.random,\n    cos = Math.cos,\n    sin = Math.sin,\n    // Local WindowAnimationTiming interface\nrAF = window.requestAnimationFrame,\n    cAF = window.cancelAnimationFrame || window.cancelRequestAnimationFrame,\n    _now = _Date$now || function () {\n  return new Date().getTime();\n}; // Local WindowAnimationTiming interface polyfill\n\n\nexport var WindowAnimationTiming = function WindowAnimationTiming(w) {\n  /**\n  \t\t* Fallback implementation.\n  \t\t*/\n  var prev = _now();\n\n  function fallback(fn) {\n    var curr = _now();\n\n    var ms = Math.max(0, 16 - (curr - prev));\n    var req = setTimeout(fn, ms);\n    prev = curr;\n    return req;\n  }\n  /**\n  \t\t* Cancel.\n  \t\t*/\n\n\n  var cancel = w.cancelAnimationFrame || w.webkitCancelAnimationFrame || w.clearTimeout;\n  rAF = w.requestAnimationFrame || w.webkitRequestAnimationFrame || fallback;\n\n  cAF = function cAF(id) {\n    cancel.call(w, id);\n  };\n};\nexport var animation = function animation() {\n  var speed = 50,\n      duration = 1.0 / speed,\n      confettiRibbonCount = 11,\n      ribbonPaperCount = 0.1,\n      ribbonPaperDist = 8.0,\n      ribbonPaperThick = 8.0,\n      confettiPaperCount = 95,\n      DEG_TO_RAD = PI / 180,\n      RAD_TO_DEG = 180 / PI,\n      colors = [[\"#df0049\", \"#660671\"], [\"#00e857\", \"#005291\"], [\"#2bebbc\", \"#05798a\"], [\"#ffd200\", \"#b06c00\"]];\n\n  function Vector2(_x, _y) {\n    this.x = _x, this.y = _y;\n\n    this.Length = function () {\n      return sqrt(this.SqrLength());\n    };\n\n    this.SqrLength = function () {\n      return this.x * this.x + this.y * this.y;\n    };\n\n    this.Add = function (_vec) {\n      this.x += _vec.x;\n      this.y += _vec.y;\n    };\n\n    this.Sub = function (_vec) {\n      this.x -= _vec.x;\n      this.y -= _vec.y;\n    };\n\n    this.Div = function (_f) {\n      this.x /= _f;\n      this.y /= _f;\n    };\n\n    this.Mul = function (_f) {\n      this.x *= _f;\n      this.y *= _f;\n    };\n\n    this.Normalize = function () {\n      var sqrLen = this.SqrLength();\n\n      if (sqrLen != 0) {\n        var factor = 1.0 / sqrt(sqrLen);\n        this.x *= factor;\n        this.y *= factor;\n      }\n    };\n\n    this.Normalized = function () {\n      var sqrLen = this.SqrLength();\n\n      if (sqrLen != 0) {\n        var factor = 1.0 / sqrt(sqrLen);\n        return new Vector2(this.x * factor, this.y * factor);\n      }\n\n      return new Vector2(0, 0);\n    };\n  }\n\n  Vector2.Lerp = function (_vec0, _vec1, _t) {\n    return new Vector2((_vec1.x - _vec0.x) * _t + _vec0.x, (_vec1.y - _vec0.y) * _t + _vec0.y);\n  };\n\n  Vector2.Distance = function (_vec0, _vec1) {\n    return sqrt(Vector2.SqrDistance(_vec0, _vec1));\n  };\n\n  Vector2.SqrDistance = function (_vec0, _vec1) {\n    var x = _vec0.x - _vec1.x;\n    var y = _vec0.y - _vec1.y;\n    return x * x + y * y + z * z;\n  };\n\n  Vector2.Scale = function (_vec0, _vec1) {\n    return new Vector2(_vec0.x * _vec1.x, _vec0.y * _vec1.y);\n  };\n\n  Vector2.Min = function (_vec0, _vec1) {\n    return new Vector2(Math.min(_vec0.x, _vec1.x), Math.min(_vec0.y, _vec1.y));\n  };\n\n  Vector2.Max = function (_vec0, _vec1) {\n    return new Vector2(Math.max(_vec0.x, _vec1.x), Math.max(_vec0.y, _vec1.y));\n  };\n\n  Vector2.ClampMagnitude = function (_vec0, _len) {\n    var vecNorm = _vec0.Normalized;\n    return new Vector2(vecNorm.x * _len, vecNorm.y * _len);\n  };\n\n  Vector2.Sub = function (_vec0, _vec1) {\n    return new Vector2(_vec0.x - _vec1.x, _vec0.y - _vec1.y, _vec0.z - _vec1.z);\n  };\n\n  function EulerMass(_x, _y, _mass, _drag) {\n    this.position = new Vector2(_x, _y);\n    this.mass = _mass;\n    this.drag = _drag;\n    this.force = new Vector2(0, 0);\n    this.velocity = new Vector2(0, 0);\n\n    this.AddForce = function (_f) {\n      this.force.Add(_f);\n    };\n\n    this.Integrate = function (_dt) {\n      var acc = this.CurrentForce(this.position);\n      acc.Div(this.mass);\n      var posDelta = new Vector2(this.velocity.x, this.velocity.y);\n      posDelta.Mul(_dt);\n      this.position.Add(posDelta);\n      acc.Mul(_dt);\n      this.velocity.Add(acc);\n      this.force = new Vector2(0, 0);\n    };\n\n    this.CurrentForce = function (_pos, _vel) {\n      var totalForce = new Vector2(this.force.x, this.force.y);\n      var speed = this.velocity.Length();\n      var dragVel = new Vector2(this.velocity.x, this.velocity.y);\n      dragVel.Mul(this.drag * this.mass * speed);\n      totalForce.Sub(dragVel);\n      return totalForce;\n    };\n  }\n\n  function ConfettiPaper(_x, _y) {\n    this.pos = new Vector2(_x, _y);\n    this.rotationSpeed = random() * 600 + 800;\n    this.angle = DEG_TO_RAD * random() * 360;\n    this.rotation = DEG_TO_RAD * random() * 360;\n    this.cosA = 1.0;\n    this.size = 5.0;\n    this.oscillationSpeed = random() * 1.5 + 0.5;\n    this.xSpeed = 40.0;\n    this.ySpeed = random() * 60 + 50.0;\n    this.corners = new Array();\n    this.time = random();\n    var ci = round(random() * (colors.length - 1));\n    this.frontColor = colors[ci][0];\n    this.backColor = colors[ci][1];\n\n    for (var i = 0; i < 4; i++) {\n      var dx = cos(this.angle + DEG_TO_RAD * (i * 90 + 45));\n      var dy = sin(this.angle + DEG_TO_RAD * (i * 90 + 45));\n      this.corners[i] = new Vector2(dx, dy);\n    }\n\n    this.Update = function (_dt) {\n      this.time += _dt;\n      this.rotation += this.rotationSpeed * _dt;\n      this.cosA = cos(DEG_TO_RAD * this.rotation);\n      this.pos.x += cos(this.time * this.oscillationSpeed) * this.xSpeed * _dt;\n      this.pos.y += this.ySpeed * _dt;\n\n      if (this.pos.y > ConfettiPaper.bounds.y) {\n        this.pos.x = random() * ConfettiPaper.bounds.x;\n        this.pos.y = 0;\n      }\n    };\n\n    this.Draw = function (_g) {\n      if (this.cosA > 0) {\n        _g.fillStyle = this.frontColor;\n      } else {\n        _g.fillStyle = this.backColor;\n      }\n\n      _g.beginPath();\n\n      _g.moveTo((this.pos.x + this.corners[0].x * this.size) * retina, (this.pos.y + this.corners[0].y * this.size * this.cosA) * retina);\n\n      for (var i = 1; i < 4; i++) {\n        _g.lineTo((this.pos.x + this.corners[i].x * this.size) * retina, (this.pos.y + this.corners[i].y * this.size * this.cosA) * retina);\n      }\n\n      _g.closePath();\n\n      _g.fill();\n    };\n  }\n\n  ConfettiPaper.bounds = new Vector2(0, 0);\n\n  function ConfettiRibbon(_x, _y, _count, _dist, _thickness, _angle, _mass, _drag) {\n    this.particleDist = _dist;\n    this.particleCount = _count;\n    this.particleMass = _mass;\n    this.particleDrag = _drag;\n    this.particles = new Array();\n    var ci = round(random() * (colors.length - 1));\n    this.frontColor = colors[ci][0];\n    this.backColor = colors[ci][1];\n    this.xOff = cos(DEG_TO_RAD * _angle) * _thickness;\n    this.yOff = sin(DEG_TO_RAD * _angle) * _thickness;\n    this.position = new Vector2(_x, _y);\n    this.prevPosition = new Vector2(_x, _y);\n    this.velocityInherit = random() * 2 + 4;\n    this.time = random() * 100;\n    this.oscillationSpeed = random() * 2 + 2;\n    this.oscillationDistance = random() * 40 + 40;\n    this.ySpeed = random() * 40 + 80;\n\n    for (var i = 0; i < this.particleCount; i++) {\n      this.particles[i] = new EulerMass(_x, _y - i * this.particleDist, this.particleMass, this.particleDrag);\n    }\n\n    this.Update = function (_dt) {\n      var i = 0;\n      this.time += _dt * this.oscillationSpeed;\n      this.position.y += this.ySpeed * _dt;\n      this.position.x += cos(this.time) * this.oscillationDistance * _dt;\n      this.particles[0].position = this.position;\n      var dX = this.prevPosition.x - this.position.x;\n      var dY = this.prevPosition.y - this.position.y;\n      var delta = sqrt(dX * dX + dY * dY);\n      this.prevPosition = new Vector2(this.position.x, this.position.y);\n\n      for (i = 1; i < this.particleCount; i++) {\n        var dirP = Vector2.Sub(this.particles[i - 1].position, this.particles[i].position);\n        dirP.Normalize();\n        dirP.Mul(delta / _dt * this.velocityInherit);\n        this.particles[i].AddForce(dirP);\n      }\n\n      for (i = 1; i < this.particleCount; i++) {\n        this.particles[i].Integrate(_dt);\n      }\n\n      for (i = 1; i < this.particleCount; i++) {\n        var rp2 = new Vector2(this.particles[i].position.x, this.particles[i].position.y);\n        rp2.Sub(this.particles[i - 1].position);\n        rp2.Normalize();\n        rp2.Mul(this.particleDist);\n        rp2.Add(this.particles[i - 1].position);\n        this.particles[i].position = rp2;\n      }\n\n      if (this.position.y > ConfettiRibbon.bounds.y + this.particleDist * this.particleCount) {\n        this.Reset();\n      }\n    };\n\n    this.Reset = function () {\n      this.position.y = -random() * ConfettiRibbon.bounds.y;\n      this.position.x = random() * ConfettiRibbon.bounds.x;\n      this.prevPosition = new Vector2(this.position.x, this.position.y);\n      this.velocityInherit = random() * 2 + 4;\n      this.time = random() * 100;\n      this.oscillationSpeed = random() * 2.0 + 1.5;\n      this.oscillationDistance = random() * 40 + 40;\n      this.ySpeed = random() * 40 + 80;\n      var ci = round(random() * (colors.length - 1));\n      this.frontColor = colors[ci][0];\n      this.backColor = colors[ci][1];\n      this.particles = new Array();\n\n      for (var i = 0; i < this.particleCount; i++) {\n        this.particles[i] = new EulerMass(this.position.x, this.position.y - i * this.particleDist, this.particleMass, this.particleDrag);\n      }\n    };\n\n    this.Draw = function (_g) {\n      for (var i = 0; i < this.particleCount - 1; i++) {\n        var p0 = new Vector2(this.particles[i].position.x + this.xOff, this.particles[i].position.y + this.yOff);\n        var p1 = new Vector2(this.particles[i + 1].position.x + this.xOff, this.particles[i + 1].position.y + this.yOff);\n\n        if (this.Side(this.particles[i].position.x, this.particles[i].position.y, this.particles[i + 1].position.x, this.particles[i + 1].position.y, p1.x, p1.y) < 0) {\n          _g.fillStyle = this.frontColor;\n          _g.strokeStyle = this.frontColor;\n        } else {\n          _g.fillStyle = this.backColor;\n          _g.strokeStyle = this.backColor;\n        }\n\n        if (i == 0) {\n          _g.beginPath();\n\n          _g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n\n          _g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n\n          _g.lineTo((this.particles[i + 1].position.x + p1.x) * 0.5 * retina, (this.particles[i + 1].position.y + p1.y) * 0.5 * retina);\n\n          _g.closePath();\n\n          _g.stroke();\n\n          _g.fill();\n\n          _g.beginPath();\n\n          _g.moveTo(p1.x * retina, p1.y * retina);\n\n          _g.lineTo(p0.x * retina, p0.y * retina);\n\n          _g.lineTo((this.particles[i + 1].position.x + p1.x) * 0.5 * retina, (this.particles[i + 1].position.y + p1.y) * 0.5 * retina);\n\n          _g.closePath();\n\n          _g.stroke();\n\n          _g.fill();\n        } else if (i == this.particleCount - 2) {\n          _g.beginPath();\n\n          _g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n\n          _g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n\n          _g.lineTo((this.particles[i].position.x + p0.x) * 0.5 * retina, (this.particles[i].position.y + p0.y) * 0.5 * retina);\n\n          _g.closePath();\n\n          _g.stroke();\n\n          _g.fill();\n\n          _g.beginPath();\n\n          _g.moveTo(p1.x * retina, p1.y * retina);\n\n          _g.lineTo(p0.x * retina, p0.y * retina);\n\n          _g.lineTo((this.particles[i].position.x + p0.x) * 0.5 * retina, (this.particles[i].position.y + p0.y) * 0.5 * retina);\n\n          _g.closePath();\n\n          _g.stroke();\n\n          _g.fill();\n        } else {\n          _g.beginPath();\n\n          _g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n\n          _g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n\n          _g.lineTo(p1.x * retina, p1.y * retina);\n\n          _g.lineTo(p0.x * retina, p0.y * retina);\n\n          _g.closePath();\n\n          _g.stroke();\n\n          _g.fill();\n        }\n      }\n    };\n\n    this.Side = function (x1, y1, x2, y2, x3, y3) {\n      return (x1 - x2) * (y3 - y2) - (y1 - y2) * (x3 - x2);\n    };\n  }\n\n  ConfettiRibbon.bounds = new Vector2(0, 0);\n  confetti = {};\n\n  confetti.Context = function (id) {\n    var i = 0;\n    var canvas = document.getElementById(id);\n    var canvasParent = canvas.parentNode;\n    var canvasWidth = canvasParent.offsetWidth;\n    var canvasHeight = canvasParent.offsetHeight;\n    canvas.width = canvasWidth * retina;\n    canvas.height = canvasHeight * retina;\n    var context = canvas.getContext('2d');\n    var interval = null;\n    var confettiRibbons = new Array();\n    ConfettiRibbon.bounds = new Vector2(canvasWidth, canvasHeight);\n\n    for (i = 0; i < confettiRibbonCount; i++) {\n      confettiRibbons[i] = new ConfettiRibbon(random() * canvasWidth, -random() * canvasHeight * 2, ribbonPaperCount, ribbonPaperDist, ribbonPaperThick, 45, 1, 0.05);\n    }\n\n    var confettiPapers = new Array();\n    ConfettiPaper.bounds = new Vector2(canvasWidth, canvasHeight);\n\n    for (i = 0; i < confettiPaperCount; i++) {\n      confettiPapers[i] = new ConfettiPaper(random() * canvasWidth, random() * canvasHeight);\n    }\n\n    this.resize = function () {\n      canvasWidth = canvasParent.offsetWidth;\n      canvasHeight = canvasParent.offsetHeight;\n      canvas.width = canvasWidth * retina;\n      canvas.height = canvasHeight * retina;\n      ConfettiPaper.bounds = new Vector2(canvasWidth, canvasHeight);\n      ConfettiRibbon.bounds = new Vector2(canvasWidth, canvasHeight);\n    };\n\n    this.start = function () {\n      this.stop();\n      var context = this;\n      this.update();\n    };\n\n    this.stop = function () {\n      cAF(this.interval);\n    };\n\n    this.update = function () {\n      var i = 0;\n      context.clearRect(0, 0, canvas.width, canvas.height);\n\n      for (i = 0; i < confettiPaperCount; i++) {\n        confettiPapers[i].Update(duration);\n        confettiPapers[i].Draw(context);\n      }\n\n      for (i = 0; i < confettiRibbonCount; i++) {\n        confettiRibbons[i].Update(duration);\n        confettiRibbons[i].Draw(context);\n      }\n\n      this.interval = rAF(function () {\n        confetti.update();\n      });\n    };\n  };\n\n  var confetti = new confetti.Context('confetti');\n  confetti.start();\n  window.addEventListener('resize', function (event) {\n    confetti.resize();\n  });\n};",{"version":3,"sources":["/Users/apple/Desktop/dev/screenlife_frontend/src/components/confetti.js"],"names":["retina","window","devicePixelRatio","PI","Math","sqrt","round","random","cos","sin","rAF","requestAnimationFrame","cAF","cancelAnimationFrame","cancelRequestAnimationFrame","_now","Date","getTime","WindowAnimationTiming","w","prev","fallback","fn","curr","ms","max","req","setTimeout","cancel","webkitCancelAnimationFrame","clearTimeout","webkitRequestAnimationFrame","id","call","animation","speed","duration","confettiRibbonCount","ribbonPaperCount","ribbonPaperDist","ribbonPaperThick","confettiPaperCount","DEG_TO_RAD","RAD_TO_DEG","colors","Vector2","_x","_y","x","y","Length","SqrLength","Add","_vec","Sub","Div","_f","Mul","Normalize","sqrLen","factor","Normalized","Lerp","_vec0","_vec1","_t","Distance","SqrDistance","z","Scale","Min","min","Max","ClampMagnitude","_len","vecNorm","EulerMass","_mass","_drag","position","mass","drag","force","velocity","AddForce","Integrate","_dt","acc","CurrentForce","posDelta","_pos","_vel","totalForce","dragVel","ConfettiPaper","pos","rotationSpeed","angle","rotation","cosA","size","oscillationSpeed","xSpeed","ySpeed","corners","Array","time","ci","length","frontColor","backColor","i","dx","dy","Update","bounds","Draw","_g","fillStyle","beginPath","moveTo","lineTo","closePath","fill","ConfettiRibbon","_count","_dist","_thickness","_angle","particleDist","particleCount","particleMass","particleDrag","particles","xOff","yOff","prevPosition","velocityInherit","oscillationDistance","dX","dY","delta","dirP","rp2","Reset","p0","p1","Side","strokeStyle","stroke","x1","y1","x2","y2","x3","y3","confetti","Context","canvas","document","getElementById","canvasParent","parentNode","canvasWidth","offsetWidth","canvasHeight","offsetHeight","width","height","context","getContext","interval","confettiRibbons","confettiPapers","resize","start","stop","update","clearRect","addEventListener","event"],"mappings":"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","sourcesContent":["var retina = window.devicePixelRatio,\n\n    // Math shorthands\n    PI = Math.PI,\n    sqrt = Math.sqrt,\n    round = Math.round,\n    random = Math.random,\n    cos = Math.cos,\n    sin = Math.sin,\n\n    // Local WindowAnimationTiming interface\n    rAF = window.requestAnimationFrame,\n    cAF = window.cancelAnimationFrame || window.cancelRequestAnimationFrame,\n    _now = Date.now || function () {return new Date().getTime();};\n\n// Local WindowAnimationTiming interface polyfill\nexport var WindowAnimationTiming = function (w) {\n  /**\n\t\t\t\t* Fallback implementation.\n\t\t\t\t*/\n  var prev = _now();\n  function fallback(fn) {\n    var curr = _now();\n    var ms = Math.max(0, 16 - (curr - prev));\n    var req = setTimeout(fn, ms);\n    prev = curr;\n    return req;\n  }\n\n  /**\n\t\t\t\t* Cancel.\n\t\t\t\t*/\n  var cancel = w.cancelAnimationFrame\n  || w.webkitCancelAnimationFrame\n  || w.clearTimeout;\n\n  rAF = w.requestAnimationFrame\n  || w.webkitRequestAnimationFrame\n  || fallback;\n\n  cAF = function(id){\n    cancel.call(w, id);\n  };\n};\n\nexport var animation = function() {\n    var speed = 50,\n        duration = (1.0 / speed),\n        confettiRibbonCount = 11,\n        ribbonPaperCount = 0.1,\n        ribbonPaperDist = 8.0,\n        ribbonPaperThick = 8.0,\n        confettiPaperCount = 95,\n        DEG_TO_RAD = PI / 180,\n        RAD_TO_DEG = 180 / PI,\n        colors = [\n          [\"#df0049\", \"#660671\"],\n          [\"#00e857\", \"#005291\"],\n          [\"#2bebbc\", \"#05798a\"],\n          [\"#ffd200\", \"#b06c00\"]\n        ];\n  \n    function Vector2(_x, _y) {\n      this.x = _x, this.y = _y;\n      this.Length = function() {\n        return sqrt(this.SqrLength());\n      }\n      this.SqrLength = function() {\n        return this.x * this.x + this.y * this.y;\n      }\n      this.Add = function(_vec) {\n        this.x += _vec.x;\n        this.y += _vec.y;\n      }\n      this.Sub = function(_vec) {\n        this.x -= _vec.x;\n        this.y -= _vec.y;\n      }\n      this.Div = function(_f) {\n        this.x /= _f;\n        this.y /= _f;\n      }\n      this.Mul = function(_f) {\n        this.x *= _f;\n        this.y *= _f;\n      }\n      this.Normalize = function() {\n        var sqrLen = this.SqrLength();\n        if (sqrLen != 0) {\n          var factor = 1.0 / sqrt(sqrLen);\n          this.x *= factor;\n          this.y *= factor;\n        }\n      }\n      this.Normalized = function() {\n        var sqrLen = this.SqrLength();\n        if (sqrLen != 0) {\n          var factor = 1.0 / sqrt(sqrLen);\n          return new Vector2(this.x * factor, this.y * factor);\n        }\n        return new Vector2(0, 0);\n      }\n    }\n    Vector2.Lerp = function(_vec0, _vec1, _t) {\n      return new Vector2((_vec1.x - _vec0.x) * _t + _vec0.x, (_vec1.y - _vec0.y) * _t + _vec0.y);\n    }\n    Vector2.Distance = function(_vec0, _vec1) {\n      return sqrt(Vector2.SqrDistance(_vec0, _vec1));\n    }\n    Vector2.SqrDistance = function(_vec0, _vec1) {\n      var x = _vec0.x - _vec1.x;\n      var y = _vec0.y - _vec1.y;\n      return (x * x + y * y + z * z);\n    }\n    Vector2.Scale = function(_vec0, _vec1) {\n      return new Vector2(_vec0.x * _vec1.x, _vec0.y * _vec1.y);\n    }\n    Vector2.Min = function(_vec0, _vec1) {\n      return new Vector2(Math.min(_vec0.x, _vec1.x), Math.min(_vec0.y, _vec1.y));\n    }\n    Vector2.Max = function(_vec0, _vec1) {\n      return new Vector2(Math.max(_vec0.x, _vec1.x), Math.max(_vec0.y, _vec1.y));\n    }\n    Vector2.ClampMagnitude = function(_vec0, _len) {\n      var vecNorm = _vec0.Normalized;\n      return new Vector2(vecNorm.x * _len, vecNorm.y * _len);\n    }\n    Vector2.Sub = function(_vec0, _vec1) {\n      return new Vector2(_vec0.x - _vec1.x, _vec0.y - _vec1.y, _vec0.z - _vec1.z);\n    }\n  \n    function EulerMass(_x, _y, _mass, _drag) {\n      this.position = new Vector2(_x, _y);\n      this.mass = _mass;\n      this.drag = _drag;\n      this.force = new Vector2(0, 0);\n      this.velocity = new Vector2(0, 0);\n      this.AddForce = function(_f) {\n        this.force.Add(_f);\n      }\n      this.Integrate = function(_dt) {\n        var acc = this.CurrentForce(this.position);\n        acc.Div(this.mass);\n        var posDelta = new Vector2(this.velocity.x, this.velocity.y);\n        posDelta.Mul(_dt);\n        this.position.Add(posDelta);\n        acc.Mul(_dt);\n        this.velocity.Add(acc);\n        this.force = new Vector2(0, 0);\n      }\n      this.CurrentForce = function(_pos, _vel) {\n        var totalForce = new Vector2(this.force.x, this.force.y);\n        var speed = this.velocity.Length();\n        var dragVel = new Vector2(this.velocity.x, this.velocity.y);\n        dragVel.Mul(this.drag * this.mass * speed);\n        totalForce.Sub(dragVel);\n        return totalForce;\n      }\n    }\n  \n    function ConfettiPaper(_x, _y) {\n      this.pos = new Vector2(_x, _y);\n      this.rotationSpeed = (random() * 600 + 800);\n      this.angle = DEG_TO_RAD * random() * 360;\n      this.rotation = DEG_TO_RAD * random() * 360;\n      this.cosA = 1.0;\n      this.size = 5.0;\n      this.oscillationSpeed = (random() * 1.5 + 0.5);\n      this.xSpeed = 40.0;\n      this.ySpeed = (random() * 60 + 50.0);\n      this.corners = new Array();\n      this.time = random();\n      var ci = round(random() * (colors.length - 1));\n      this.frontColor = colors[ci][0];\n      this.backColor = colors[ci][1];\n      for (var i = 0; i < 4; i++) {\n        var dx = cos(this.angle + DEG_TO_RAD * (i * 90 + 45));\n        var dy = sin(this.angle + DEG_TO_RAD * (i * 90 + 45));\n        this.corners[i] = new Vector2(dx, dy);\n      }\n      this.Update = function(_dt) {\n        this.time += _dt;\n        this.rotation += this.rotationSpeed * _dt;\n        this.cosA = cos(DEG_TO_RAD * this.rotation);\n        this.pos.x += cos(this.time * this.oscillationSpeed) * this.xSpeed * _dt\n        this.pos.y += this.ySpeed * _dt;\n        if (this.pos.y > ConfettiPaper.bounds.y) {\n          this.pos.x = random() * ConfettiPaper.bounds.x;\n          this.pos.y = 0;\n        }\n      }\n      this.Draw = function(_g) {\n        if (this.cosA > 0) {\n          _g.fillStyle = this.frontColor;\n        } else {\n          _g.fillStyle = this.backColor;\n        }\n        _g.beginPath();\n        _g.moveTo((this.pos.x + this.corners[0].x * this.size) * retina, (this.pos.y + this.corners[0].y * this.size * this.cosA) * retina);\n        for (var i = 1; i < 4; i++) {\n          _g.lineTo((this.pos.x + this.corners[i].x * this.size) * retina, (this.pos.y + this.corners[i].y * this.size * this.cosA) * retina);\n        }\n        _g.closePath();\n        _g.fill();\n      }\n    }\n    ConfettiPaper.bounds = new Vector2(0, 0);\n  \n    function ConfettiRibbon(_x, _y, _count, _dist, _thickness, _angle, _mass, _drag) {\n      this.particleDist = _dist;\n      this.particleCount = _count;\n      this.particleMass = _mass;\n      this.particleDrag = _drag;\n      this.particles = new Array();\n      var ci = round(random() * (colors.length - 1));\n      this.frontColor = colors[ci][0];\n      this.backColor = colors[ci][1];\n      this.xOff = (cos(DEG_TO_RAD * _angle) * _thickness);\n      this.yOff = (sin(DEG_TO_RAD * _angle) * _thickness);\n      this.position = new Vector2(_x, _y);\n      this.prevPosition = new Vector2(_x, _y);\n      this.velocityInherit = (random() * 2 + 4);\n      this.time = random() * 100;\n      this.oscillationSpeed = (random() * 2 + 2);\n      this.oscillationDistance = (random() * 40 + 40);\n      this.ySpeed = (random() * 40 + 80);\n      for (var i = 0; i < this.particleCount; i++) {\n        this.particles[i] = new EulerMass(_x, _y - i * this.particleDist, this.particleMass, this.particleDrag);\n      }\n      this.Update = function(_dt) {\n        var i = 0;\n        this.time += _dt * this.oscillationSpeed;\n        this.position.y += this.ySpeed * _dt;\n        this.position.x += cos(this.time) * this.oscillationDistance * _dt;\n        this.particles[0].position = this.position;\n        var dX = this.prevPosition.x - this.position.x;\n        var dY = this.prevPosition.y - this.position.y;\n        var delta = sqrt(dX * dX + dY * dY);\n        this.prevPosition = new Vector2(this.position.x, this.position.y);\n        for (i = 1; i < this.particleCount; i++) {\n          var dirP = Vector2.Sub(this.particles[i - 1].position, this.particles[i].position);\n          dirP.Normalize();\n          dirP.Mul((delta / _dt) * this.velocityInherit);\n          this.particles[i].AddForce(dirP);\n        }\n        for (i = 1; i < this.particleCount; i++) {\n          this.particles[i].Integrate(_dt);\n        }\n        for (i = 1; i < this.particleCount; i++) {\n          var rp2 = new Vector2(this.particles[i].position.x, this.particles[i].position.y);\n          rp2.Sub(this.particles[i - 1].position);\n          rp2.Normalize();\n          rp2.Mul(this.particleDist);\n          rp2.Add(this.particles[i - 1].position);\n          this.particles[i].position = rp2;\n        }\n        if (this.position.y > ConfettiRibbon.bounds.y + this.particleDist * this.particleCount) {\n          this.Reset();\n        }\n      }\n      this.Reset = function() {\n        this.position.y = -random() * ConfettiRibbon.bounds.y;\n        this.position.x = random() * ConfettiRibbon.bounds.x;\n        this.prevPosition = new Vector2(this.position.x, this.position.y);\n        this.velocityInherit = random() * 2 + 4;\n        this.time = random() * 100;\n        this.oscillationSpeed = random() * 2.0 + 1.5;\n        this.oscillationDistance = (random() * 40 + 40);\n        this.ySpeed = random() * 40 + 80;\n        var ci = round(random() * (colors.length - 1));\n        this.frontColor = colors[ci][0];\n        this.backColor = colors[ci][1];\n        this.particles = new Array();\n        for (var i = 0; i < this.particleCount; i++) {\n          this.particles[i] = new EulerMass(this.position.x, this.position.y - i * this.particleDist, this.particleMass, this.particleDrag);\n        }\n      }\n      this.Draw = function(_g) {\n        for (var i = 0; i < this.particleCount - 1; i++) {\n          var p0 = new Vector2(this.particles[i].position.x + this.xOff, this.particles[i].position.y + this.yOff);\n          var p1 = new Vector2(this.particles[i + 1].position.x + this.xOff, this.particles[i + 1].position.y + this.yOff);\n          if (this.Side(this.particles[i].position.x, this.particles[i].position.y, this.particles[i + 1].position.x, this.particles[i + 1].position.y, p1.x, p1.y) < 0) {\n            _g.fillStyle = this.frontColor;\n            _g.strokeStyle = this.frontColor;\n          } else {\n            _g.fillStyle = this.backColor;\n            _g.strokeStyle = this.backColor;\n          }\n          if (i == 0) {\n            _g.beginPath();\n            _g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n            _g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n            _g.lineTo(((this.particles[i + 1].position.x + p1.x) * 0.5) * retina, ((this.particles[i + 1].position.y + p1.y) * 0.5) * retina);\n            _g.closePath();\n            _g.stroke();\n            _g.fill();\n            _g.beginPath();\n            _g.moveTo(p1.x * retina, p1.y * retina);\n            _g.lineTo(p0.x * retina, p0.y * retina);\n            _g.lineTo(((this.particles[i + 1].position.x + p1.x) * 0.5) * retina, ((this.particles[i + 1].position.y + p1.y) * 0.5) * retina);\n            _g.closePath();\n            _g.stroke();\n            _g.fill();\n          } else if (i == this.particleCount - 2) {\n            _g.beginPath();\n            _g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n            _g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n            _g.lineTo(((this.particles[i].position.x + p0.x) * 0.5) * retina, ((this.particles[i].position.y + p0.y) * 0.5) * retina);\n            _g.closePath();\n            _g.stroke();\n            _g.fill();\n            _g.beginPath();\n            _g.moveTo(p1.x * retina, p1.y * retina);\n            _g.lineTo(p0.x * retina, p0.y * retina);\n            _g.lineTo(((this.particles[i].position.x + p0.x) * 0.5) * retina, ((this.particles[i].position.y + p0.y) * 0.5) * retina);\n            _g.closePath();\n            _g.stroke();\n            _g.fill();\n          } else {\n            _g.beginPath();\n            _g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n            _g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n            _g.lineTo(p1.x * retina, p1.y * retina);\n            _g.lineTo(p0.x * retina, p0.y * retina);\n            _g.closePath();\n            _g.stroke();\n            _g.fill();\n          }\n        }\n      }\n      this.Side = function(x1, y1, x2, y2, x3, y3) {\n        return ((x1 - x2) * (y3 - y2) - (y1 - y2) * (x3 - x2));\n      }\n    }\n    ConfettiRibbon.bounds = new Vector2(0, 0);\n    confetti = {};\n    confetti.Context = function(id) {\n      var i = 0;\n      var canvas = document.getElementById(id);\n      var canvasParent = canvas.parentNode;\n      var canvasWidth = canvasParent.offsetWidth;\n      var canvasHeight = canvasParent.offsetHeight;\n      canvas.width = canvasWidth * retina;\n      canvas.height = canvasHeight * retina;\n      var context = canvas.getContext('2d');\n      var interval = null;\n      var confettiRibbons = new Array();\n      ConfettiRibbon.bounds = new Vector2(canvasWidth, canvasHeight);\n      for (i = 0; i < confettiRibbonCount; i++) {\n        confettiRibbons[i] = new ConfettiRibbon(random() * canvasWidth, -random() * canvasHeight * 2, ribbonPaperCount, ribbonPaperDist, ribbonPaperThick, 45, 1, 0.05);\n      }\n      var confettiPapers = new Array();\n      ConfettiPaper.bounds = new Vector2(canvasWidth, canvasHeight);\n      for (i = 0; i < confettiPaperCount; i++) {\n        confettiPapers[i] = new ConfettiPaper(random() * canvasWidth, random() * canvasHeight);\n      }\n      this.resize = function() {\n        canvasWidth = canvasParent.offsetWidth;\n        canvasHeight = canvasParent.offsetHeight;\n        canvas.width = canvasWidth * retina;\n        canvas.height = canvasHeight * retina;\n        ConfettiPaper.bounds = new Vector2(canvasWidth, canvasHeight);\n        ConfettiRibbon.bounds = new Vector2(canvasWidth, canvasHeight);\n      }\n      this.start = function() {\n        this.stop()\n        var context = this;\n        this.update();\n      }\n      this.stop = function() {\n        cAF(this.interval);\n      }\n      this.update = function() {\n        var i = 0;\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        for (i = 0; i < confettiPaperCount; i++) {\n          confettiPapers[i].Update(duration);\n          confettiPapers[i].Draw(context);\n        }\n        for (i = 0; i < confettiRibbonCount; i++) {\n          confettiRibbons[i].Update(duration);\n          confettiRibbons[i].Draw(context);\n        }\n        this.interval = rAF(function() {\n          confetti.update();\n        });\n      }\n    }\n    var confetti = new confetti.Context('confetti');\n    confetti.start();\n    window.addEventListener('resize', function(event){\n      confetti.resize();\n    });\n  }"]}]}